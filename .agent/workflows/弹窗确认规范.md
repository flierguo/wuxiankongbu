---
description: 弹窗确认统一使用 Player.Question()
---

# 弹窗确认规范

## 规则
在需要用户确认操作时（如重置、删除、消耗元宝等），统一使用 `Player.Question()` 方法，而不是自定义 NPC 弹窗界面。

## 语法
```typescript
Player.Question(
    '确认提示文本\\\\第二行文本',  // 提示内容，用 \\\\ 换行
    '模块名.确认函数名',           // 确认按钮调用的函数
    '模块名.取消函数名'            // 取消按钮调用的函数
)
```

## 示例

### 捐献确认
```typescript
export function 确认捐献(Npc: TNormNpc, Player: TPlayObject): void {
    Player.Question(
        '确定要捐献吗？\\\\将捐献背包内所有优秀及以上品质的装备！',
        '捐献排名.执行一键捐献',
        '捐献排名.Main'
    )
}
```

### 重置基因确认
```typescript
export function 重置基因确认(Npc: TNormNpc, Player: TPlayObject, _Args: TArgs): void {
    const 当前基因 = Player.V.基因 || ''
    
    // 前置检查
    if (!当前基因) {
        Player.MessageBox('你还未选择任何基因,无需重置!')
        return
    }
    if (Player.GetGameGold() < 1000) {
        Player.MessageBox('元宝不足1000,重置失败!')
        return
    }

    // 弹窗确认
    Player.Question(
        `确定要重置基因吗？\\\\当前基因：【${当前基因}】\\\\重置需要消耗1000元宝！`,
        '基因.确认重置基因',
        '基因.Main'
    )
}
```

## 注意事项
1. 提示文本中使用 `\\\\` 进行换行
2. 确认/取消函数名格式为 `模块名.函数名`，必须是已导出的函数
3. 前置检查（如元宝是否足够）应在调用 Question 之前完成
4. 单纯的提示信息（无需确认）使用 `Player.MessageBox()` 或 `Player.SendMessage()`
